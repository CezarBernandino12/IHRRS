.referral-container {
    max-width: 60%;
    margin-left: 25%;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
.referral-container {
  --ink:#0f2242; --muted:#667085; --line:#e6e9f2; --subtle:#f7f9fc;
  --brand:#27548A; --accent:#17B26A; --radius:14px; --shadow:0 6px 28px rgba(16,40,87,.08);
}

.referral-header .referral-heading{
  line-height: 1.25;
}

.referral-header .referral-heading .line-1{
  font-size: 16px;   /* Republic of the Philippines */
}

.referral-header .referral-heading .line-2{
  font-size: 26px;   /* Daet, Camarines Norte */
  letter-spacing: .2px;
  margin-top: 2px;
}

.referral-header .referral-heading .line-3{
  font-size: 13px;   /* Barangay 1 */
  margin-top: 2px;
}

/* Field groups */
.form-group {
    margin-bottom: 25px;
}

.form-group-title {
    font-weight: bold;
    color: #333;
    margin-bottom: 8px;
    font-size: 16px;
}

/* Two-column layout for name fields */
.name-fields {
    display: flex;
    gap: 20px;
}

.name-field {
    flex: 1;
}

/* Form field styling */
.field-container {
    margin-bottom: 20px;
}

.field-label {
    display: block;
    color: #666;
    font-size: 14px;
    margin-bottom: 5px;
}

input[type="text"], 
select,
textarea {
    width: 100%;
    padding: 8px 0;
    border: none;
    border-bottom: 1px solid #ddd;
    font-size: 16px;
    transition: border-color 0.3s;
    background-color: transparent;
}

input[type="text"]:focus,
select:focus,
textarea:focus {
    outline: none;
    border-bottom: 2px solid #4a90e2;
}

/* Address fields */
.address-fields {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.address-row {
    display: flex;
    gap: 20px;
}

.address-field {
    flex: 1;
}

/* Select dropdown styling */
select {
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 0 center;
    background-size: 16px;
    padding-right: 20px;
}

/* Patient information section */
.patient-info {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.patient-field {
    flex: 1;
    min-width: 200px;
}

/* Vital signs section */
.vitals {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.vital-field {
    flex: 1;
    min-width: 120px;
}

/* Chief complaints textarea */
.complaints-container textarea {
    min-height: 100px;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 10px;
}

/* Diagnosis and treatment sections */
.diagnosis-container,
.treatment-container {
    margin-top: 25px;
}

.diagnosis-container textarea,
.treatment-container textarea {
    min-height: 120px;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 10px;
}

/* Header styling */
/* ===== Letterhead ===== */
.referral-header{
  display: flex;
  flex-wrap: wrap;            
  align-items: center;
  justify-content: center;      
  gap: 12px;
  margin-bottom: 10px;
  padding: 6px 8px 0;
  text-align: center;
}

.referral-logo.left,
.referral-logo.right{
  order: 0;                     /* appear first (same row) */
  display: block;
  width: 86px;
  height: 86px;
  object-fit: contain;
}
.referral-heading{
  order: 1;                     /* after the two logos */
  flex: 0 0 100%;
  text-align: center;
}

/* optional: tighten the underline rule below the header */
.referral-rule{
  border:0; height:2px; margin:12px 0 16px;
  background:#d8dee9;
  box-shadow: inset 0 1px 0 rgba(0,0,0,.25), inset 0 -1px 0 rgba(255,255,255,.7);
}
@media print{ .referral-rule{ background:#000; box-shadow:none; } }

/* Tighten the card to suit the new header */
.referral-container{
  width:100%;
  max-width:900px;
  margin:24px auto;
  padding:24px 28px;
  background:#fff;
  border:1px solid #dde3ee;
  border-radius:10px;
  box-shadow: 0 2px 12px rgba(16,40,87,.06);
}

/* Section headings a bit heavier to match letterhead */
.form-group-title{
  font-weight: 700;
  color:#0f2242;
  font-size: 15.5px;
}

/* ===== Print (A4) ===== */
@media print{
  @page{ size:A4; margin:10mm; }
  html,body{ -webkit-print-color-adjust: exact; print-color-adjust: exact; }

  /* hide chrome */
  #sidebar, nav, .view-record-link, .referral-form-footer{ display:none !important; }

  .referral-container{
    margin:0; padding:10mm;
    border:none; box-shadow:none; max-width:100%;
    font-size: 11pt;
  }

  /* letterhead */
  .referral-header{
    grid-template-columns: 80px 1fr 80px;
    gap:10px; margin-bottom:6px; padding:0;
  }
  .referral-logo{ width:80px; height:80px; }
  .referral-heading .line-1,
  .referral-heading .line-2,
  .referral-heading .line-3{ font-size: 12pt; }
  .referral-heading .title{ font-size: 16pt; margin-top: 4px; }

  .referral-rule{ height:1px; background:#cfd8e3; margin:6px 0 10px; }

  /* space & page-fit */
  .form-group{ margin-bottom: 12px; }
  .field-container{ margin-bottom: 8px; }
  .name-fields, .patient-info, .vitals{ gap:8px; }
  .diagnosis-container, .treatment-container{ margin-top:8px; }
  .diagnosis-container textarea, .treatment-container textarea{ min-height:70px !important; }
  .complaints-container textarea{ min-height: 50px !important; }

  /* avoid awkward splits */
  .referral-header, .referral-rule,
  .complaints-container, .diagnosis-container, .treatment-container{
    page-break-inside: avoid;
  }
}
.referral-heading .title{
  margin:10px 0 0;
  font-weight:bold;
  font-size:22px;
  letter-spacing:.4px;
  text-transform:uppercase;
  color:#000;
}

/* solid black rule under the heading */
/* ===== Modern referral section styling (scoped) ===== */
.referral-container {
  --ink:#0f2242; --muted:#667085; --line:#e6e9f2; --subtle:#f7f9fc;
  --brand:#27548A; --accent:#17B26A; --radius:14px; --shadow:0 6px 28px rgba(16,40,87,.08);
}

/* Meta strip (Referral ID / Date) */
.referral-meta{
  display:flex; gap:12px; flex-wrap:wrap; margin:8px 0 18px;
}
.badge{
  display:inline-flex; align-items:center; gap:8px;
  background:var(--subtle); border:1px solid var(--line);
  padding:8px 12px; border-radius:999px; font-size:13px; color:#344054;
}
.badge i{ font-size:18px; opacity:.8; }

/* Section Cards */
.section-card{
  background:white; border:1px solid var(--line); border-radius:var(--radius);
  padding:16px 18px 18px; box-shadow:var(--shadow); margin-bottom:18px;
}

/* Section title */
.section-title{
  font-weight:700; color:var(--ink); font-size:15px; margin:2px 0 14px;
}

/* Two-column information grid */
.info-grid{
  display:grid; grid-template-columns: 1fr 1fr; gap:14px 24px;
}
.kv{ min-height:44px; }
.kv .label{
  display:block; font-size:12px; letter-spacing:.3px; text-transform:uppercase;
  color:#8a94a6; margin-bottom:6px;
}
.kv .value{
  color:#0b1733; font-size:16px; font-weight:600; line-height:1.4;
}

/* Vital signs: compact 4-up when space allows */
.vitals-grid{ grid-template-columns: repeat(4, minmax(160px,1fr)); }

/* Rich text containers */
.textbox{
  background:var(--subtle); border:1px dashed #d7deea;
  padding:12px 14px; border-radius:10px; min-height:64px; white-space:pre-wrap;
}

/* Doctor-only areas */
.lock-note{ font-style:italic; color:#6b7280; font-weight:500; }

/* Readonly textarea restyle */
.treatment-container textarea{
  width:100%; background:var(--subtle); border:1px dashed #d7deea;
  border-radius:10px; padding:12px 14px; font-size:14px; outline:none;
}

/* Signature line */
.signature{
  display:flex; align-items:center; gap:16px; margin-top:8px;
}
.signature .line{
  flex:1; border-bottom:2px dotted #c7cedd; height:32px;
}
.signature .name{
  min-width:180px; text-align:right; font-weight:600; color:#0b1733;
}

/* Meta spacing for the footer (keeps your current buttons) */
.referral-form-footer{ margin-top:22px; }

/* Responsive */
@media (max-width: 840px){
  .info-grid{ grid-template-columns: 1fr; }
  .vitals-grid{ grid-template-columns: repeat(2, 1fr); }
}

/* Print: flatten effects, tighter spacing */
@media print{
  .section-card{ box-shadow:none; border-color:#cfd8e3; }
  .badge{ background:#fff; }
  .treatment-container textarea{ background:#fff; }
}


/* Action buttons */
.referral-form-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #eee;
}
/* Add this to your existing CSS file */

.back-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: white;
    color: #2ecc71; /* Bright green color */
    border: 2px solid #2ecc71;
    border-radius: 50px;
    padding: 12px 40px;
    font-size: 18px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s ease;
    cursor: pointer;
    width: 200px;
    margin: 20px 0;
}

.back-button:hover {
    background-color: rgba(46, 204, 113, 0.1);
}

.back-button i {
    margin-right: 10px;
    font-size: 20px;
}

/* Update the styles for the existing buttons in the footer */
.referral-form-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #eee;
}

.footer-btn {
    padding: 5px 20px;
    background-color: white;
    color: #27548A;
    border: 2px solid #27548A;
    border-radius: 50px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
}

.footer-btn:hover {
    background-color: rgba(46, 204, 113, 0.1);
}

#goBackBtn::before {
    content: "< ";
    margin-right: 5px;
    font-size: 18px;
}
.footer-btns {
    padding: 10px 18px;
    margin-left: 10px;
    background-color: #162e51;
    color: white;
    font-size: 15px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.footer-btns:hover {
    background-color: #15253d;
}

/* View record link */
.view-record-link {
    color: #4a90e2;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: color 0.3s;
}

.view-record-link:hover {
    color: #3a7bc8;
    text-decoration: underline;
}



/* =========================
   UNIFIED PRINT (A4, 10mm)
   ========================= */
@media print {
  /* Page setup */
  @page { size: A4; margin: 10mm; }
  html, body {
    background: #fff !important;
    -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
  }

  /* Show ONLY the referral card; no visibility hacks */
  /* Hide app chrome / everything outside the card */
  body > :not(.referral-container) { display: none !important; }
  /* In case the card lives deeper in the DOM */
  #sidebar, nav, .referral-form-footer, .view-record-link { display: none !important; }

  /* Lock the card to the printable width (A4 width 210mm − 2×10mm margins = 190mm) */
  .referral-container {
    position: static !important;
    box-shadow: none !important;
    border: 0 !important;
    background: #fff !important;

    width: 190mm !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;   /* we’ll pad inside */
    font-size: 11pt !important;
    line-height: 1.3 !important;
    color: #0b1733 !important;

    /* Avoid accidental scaling from leftover transforms */
    transform: none !important;
    transform-origin: initial !important;

    /* Some engines break if overflow is auto during print */
    overflow: visible !important;
  }

  /* Inner padding to feel like margins inside the card */
  .referral-container > * {
    padding-left: 6mm;
    padding-right: 6mm;
  }

  /* Header */
  .referral-header { margin-top: 4mm; margin-bottom: 4mm; gap: 6px !important; }
  .referral-logo { width: 80px !important; height: 80px !important; object-fit: contain; }
  .referral-heading .line-1 { font-size: 12pt !important; }
  .referral-heading .line-2 { font-size: 18pt !important; font-weight: 700; color: #0f2242; }
  .referral-heading .line-3 { font-size: 11pt !important; color: #6b7280; }
  .referral-heading .title  { font-size: 16pt !important; margin-top: 4px !important; }
  .referral-rule {
    height: 1px !important; margin: 6px 0 10px !important;
    background: #cfd8e3 !important; border: 0 !important; box-shadow: none !important;
  }

  /* Meta badges */
  .referral-meta { display: flex; gap: 6px; flex-wrap: wrap; margin: 0 0 4mm !important; }
  .badge {
    padding: 2px 7px !important; font-size: 9.6pt !important;
    border: 1px solid #e2e7f1 !important; border-radius: 999px !important; background: #fff !important;
  }

  /* Sections flattened */
  .section-card {
    background: transparent !important;
    border: 0 !important; border-radius: 0 !important; box-shadow: none !important;
    padding: 0 !important; margin: 0 0 4mm !important;
  }
  .section-title {
    margin: 0 0 2.5mm !important; font-weight: 700 !important; font-size: 12pt !important; color: #0f2242 !important;
    padding-bottom: 1.5mm !important; border-bottom: 1px solid #e7ecf6 !important;
  }

  /* Tight grids */
  .info-grid { display: grid !important; grid-template-columns: 1fr 1fr !important; gap: 8px 16px !important; }
  .vitals-grid { grid-template-columns: repeat(4, 1fr) !important; gap: 8px 12px !important; }

  .kv .label {
    font-size: 9pt !important; margin-bottom: 2px !important; color: #7a879a !important;
    letter-spacing: .15px !important; text-transform: uppercase !important;
  }
  .kv .value { font-size: 11pt !important; font-weight: 600 !important; overflow-wrap: anywhere !important; }

  /* Text boxes */
  .textbox {
    background: #fff !important; border: 1px solid #e3e8f4 !important;
    border-radius: 4px !important; padding: 6px 8px !important; min-height: 24px !important;
  }
  #complaints, .diagnosis-field {
    display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden !important;
  }

  /* Textareas: no resize borders, fixed short height for print */
  textarea {
    resize: none !important; overflow: hidden !important;
    background: #fff !important; border: 1px solid #e3e8f4 !important;
    border-radius: 4px !important; padding: 6px 8px !important; min-height: 60px !important; height: 60px !important;
    font-size: 10.5pt !important;
  }

  /* Signature line */
  .signature { display: flex !important; align-items: center !important; gap: 8px !important; margin-top: 4mm !important; }
  .signature .line { flex: 1 !important; border-bottom: 1px dotted #c7cedd !important; height: 14px !important; }
  .signature .name { font-weight: 700 !important; font-size: 10.5pt !important; min-width: 150px !important; text-align: right !important; }

  /* Keep these together; avoid ugly splits */
  .referral-header, .referral-meta,
  .complaints-container, .diagnosis-container, .treatment-container { page-break-inside: avoid !important; }
}
